<?xml version="1.0" encoding="utf-8"?>
<job>
    <command>
        blastp -query ${q} -db ${db} -out ${res}
    </command>
    
    <input id="q" splitter="fasta"><!-- only one allowed with splitter -->
        
        <!-- s3n, local, ... = only one url per input -->
        <url>/local/foo/bar/myfile.fasta</url>
        <!--url>hdfs://pouet/myfile.fasta</url-->
        <!--url>s3n://AWS-ID:AWS-SECRET-KEY@BUCKET-NAME/myfile.fasta</url-->
        <!--url>http://example.org/myfile.fasta</url--> <!-- need download or hadoop understands it? -->
        <!-- any other protocol? -->
    </input>

    <input id="db" splitter="none"> <!-- splitter attribute can be omitted or set to none -->
    
        <!-- s3n, local, ... = only one url per input -->
        <url autocomplete="true">/local/foo/bar/myfile</url> <!-- 2 cases here: on nfs (need to be uploaded with -files option) or not (no need to upload) -->
        <!--url>hdfs://pouet/myfile.fasta</url--> <!-- is it possible as hadoop input? -->
        <!--url>s3n://AWS-ID:AWS-SECRET-KEY@BUCKET-NAME/myfile.fasta</url-->
        <!--url>http://example.org/myfile.fasta</url--> <!-- need download+upload or hadoop understands it? -->
        <!-- any other protocol? -->
    </input>
    
    <outputs>
      <compressor>gzip</compressor>
      <!--compressor>bzip2</compressor-->
      <!--compressor>none</compressor-->
      
      <url>/local/foo/bar</url> <!-- how is it handled? -->
      <!--url>hdfs://pouet/</url--> <!-- how is it handled? -->
      <!--url>s3n://AWS-ID:AWS-SECRET-KEY@BUCKET-NAME/</url--> <!-- how is it handled? -->
      <!-- any other protocol? -->
      
      <output id="res" reducer="blast" format="sequence" />
      <output id="res2" reducer="fasta" />
    </outputs>
    
    <hadoop>
        <config key="mapred.child.java.opts">-Xmx1024m</config>
    </hadoop>
</job>